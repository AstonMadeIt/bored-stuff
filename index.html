<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>i wuz just bored</title>
  <meta name="description" content="Data stories from the edge of attention.">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>✨</text></svg>" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700;800&family=Bodoni+Moda:opsz,wght@6..96,600;6..96,700&display=swap" rel="stylesheet">

  <!-- Plotly for charts -->
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <!-- Recharts for React-style charts -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>

  <style>
    /* ═══════════════════════════════════════════════════════
       RESET & BASE
       ═══════════════════════════════════════════════════════ */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg: #000000;
      --fg: #ffffff;
      --fg-muted: #d1d5db;
      --accent: #6366f1;
      --pad: clamp(16px, 4vw, 60px);
      --max-width: 1400px;
      
      /* Light mode vars for stories */
      --story-bg: #ffffff;
      --story-ink: #0a0a0a;
      --story-sub: #60636a;
      --story-border: #e5e7eb;
      
      /* Mobile-first spacing */
      --space-xs: clamp(8px, 2vw, 16px);
      --space-sm: clamp(12px, 3vw, 24px);
      --space-md: clamp(20px, 4vw, 40px);
      --space-lg: clamp(32px, 6vw, 80px);
      --space-xl: clamp(48px, 10vw, 140px);
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-size-adjust: 100%;
      -webkit-text-size-adjust: 100%;
    }

    body {
      background: var(--bg);
      color: var(--fg);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-weight: 400;
      line-height: 1.6;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* ═══════════════════════════════════════════════════════
       BACKGROUND LAYERS
       ═══════════════════════════════════════════════════════ */
    
    .bg-stars {
      position: fixed;
      inset: 0;
      z-index: 1;
      overflow: hidden;
    }
    
    .bg-stars picture,
    .bg-stars img {
      width: 100%;
      height: 100%;
      display: block;
    }
    
    .bg-stars img {
      object-fit: cover;
      object-position: center;
      filter: brightness(0.85) contrast(1.1) saturate(1.05);
      transform: translateZ(0);
    }

    .bg-grit {
      position: fixed;
      inset: 0;
      z-index: 2;
      pointer-events: none;
      mix-blend-mode: screen;
      opacity: 0.08;
      background-position: center;
      background-size: 1200px;
      background-repeat: repeat;
      filter: contrast(1.15) saturate(1.1);
    }

    .bg-paper {
      position: fixed;
      inset: 0;
      z-index: 3;
      pointer-events: none;
      mix-blend-mode: overlay;
      opacity: 0.06;
      background-position: center;
      background-size: 1400px;
      background-repeat: repeat;
    }

    .bg-vignette {
      position: fixed;
      inset: 0;
      z-index: 4;
      pointer-events: none;
      background: radial-gradient(
        ellipse at center,
        transparent 0%,
        transparent 50%,
        rgba(0, 0, 0, 0.4) 100%
      );
    }

    /* ═══════════════════════════════════════════════════════
       HEADER
       ═══════════════════════════════════════════════════════ */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      padding: clamp(16px, 4vw, 24px) var(--pad);
      background: linear-gradient(
        180deg,
        rgba(0, 0, 0, 0.95) 0%,
        rgba(0, 0, 0, 0.7) 60%,
        transparent 100%
      );
      backdrop-filter: blur(12px) saturate(120%);
      -webkit-backdrop-filter: blur(12px) saturate(120%);
    }

    .brand {
      font-family: 'Space Grotesk', 'Inter', sans-serif;
      font-weight: 600;
      font-size: clamp(10px, 2.5vw, 13px);
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: rgba(255, 255, 255, 0.95);
      text-shadow: 
        0 2px 12px rgba(0, 0, 0, 0.8),
        0 4px 20px rgba(0, 0, 0, 0.5);
    }

    /* ═══════════════════════════════════════════════════════
       MAIN STAGE
       ═══════════════════════════════════════════════════════ */
    main {
      position: relative;
      z-index: 10;
      min-height: 100vh;
      padding: calc(60px + var(--space-lg)) var(--pad) var(--space-lg);
    }

    .container {
      max-width: var(--max-width);
      margin: 0 auto;
    }

    /* ═══════════════════════════════════════════════════════
       HERO SECTION (dark mode)
       ═══════════════════════════════════════════════════════ */
    .hero {
      min-height: clamp(400px, 70vh, 600px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: var(--space-lg) 0;
      position: relative;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: -20px;
      left: -20px;
      right: -20px;
      bottom: -20px;
      background: radial-gradient(
        ellipse 120% 100% at 30% 50%,
        rgba(0, 0, 0, 0.85) 0%,
        rgba(0, 0, 0, 0.5) 50%,
        transparent 100%
      );
      z-index: -1;
      pointer-events: none;
    }

    .hero-title {
      font-family: 'Space Grotesk', 'Inter', sans-serif;
      font-weight: 800;
      font-size: clamp(2rem, 10vw, 6.5rem);
      line-height: 0.95;
      letter-spacing: -0.03em;
      margin-bottom: var(--space-sm);
      color: #ffffff;
      text-shadow: 
        0 0 80px rgba(99, 102, 241, 0.3),
        0 4px 24px rgba(0, 0, 0, 0.9),
        0 8px 40px rgba(0, 0, 0, 0.7);
    }

    .hero-subtitle {
      font-size: clamp(0.95rem, 3.5vw, 1.35rem);
      line-height: 1.5;
      font-weight: 400;
      color: var(--fg-muted);
      max-width: 65ch;
      margin-bottom: var(--space-lg);
      text-shadow: 
        0 2px 16px rgba(0, 0, 0, 0.9),
        0 4px 30px rgba(0, 0, 0, 0.7);
    }

    /* ═══════════════════════════════════════════════════════
       DATA STORY CARDS (LIGHT MODE)
       ═══════════════════════════════════════════════════════ */
    .story-card {
      padding: clamp(24px, 6vw, 60px) clamp(20px, 5vw, 50px);
      margin: var(--space-lg) 0;
      background: var(--story-bg);
      border-radius: clamp(16px, 4vw, 24px);
      border: 1px solid var(--story-border);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.3),
        0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .story-header {
      border-bottom: 1.5px solid var(--story-ink);
      padding-bottom: var(--space-md);
      margin-bottom: var(--space-md);
    }

    .story-kicker {
      font-family: 'Inter', sans-serif;
      font-size: clamp(9px, 2.2vw, 12px);
      font-weight: 700;
      letter-spacing: 0.20em;
      text-transform: uppercase;
      color: var(--story-sub);
      margin-bottom: clamp(8px, 2vw, 12px);
    }

    .story-title {
      font-family: 'Bodoni Moda', 'Space Grotesk', ui-serif, Georgia, serif;
      font-weight: 700;
      font-size: clamp(1.75rem, 7vw, 4rem);
      line-height: 1.02;
      letter-spacing: -0.01em;
      margin-bottom: var(--space-sm);
      color: var(--story-ink);
    }

    .story-subtitle {
      font-size: clamp(0.9rem, 3vw, 1.05rem);
      line-height: 1.55;
      font-weight: 500;
      color: var(--story-sub);
      margin-bottom: var(--space-sm);
    }

    .story-byline {
      font-size: clamp(0.75rem, 2.5vw, 0.85rem);
      color: #8a8d93;
    }

    .story-lede {
      color: #2b2e33;
      font-size: clamp(1rem, 3.5vw, 1.15rem);
      line-height: 1.7;
      font-weight: 500;
      margin: var(--space-md) 0;
    }

    .story-chart {
      width: 100%;
      height: clamp(800px, 120vw, 1200px);
      margin: var(--space-md) 0;
      min-height: 800px;
    }

    .story-notes {
      background: #f6f7f8;
      border-left: 3px solid var(--story-ink);
      padding: clamp(12px, 3vw, 18px);
      margin: var(--space-md) 0;
      font-size: clamp(0.8rem, 2.5vw, 0.85rem);
      line-height: 1.55;
      color: #444;
      border-radius: 4px;
    }

    .story-notes strong {
      color: var(--story-ink);
    }

    .story-source {
      font-size: clamp(0.75rem, 2.2vw, 0.8rem);
      font-style: italic;
      color: #8a8d93;
      margin-top: var(--space-sm);
    }

    /* Interactive chart container */
    .interactive-chart {
      width: 100%;
      margin: var(--space-md) 0;
    }

    /* ═══════════════════════════════════════════════════════
       RESPONSIVE
       ═══════════════════════════════════════════════════════ */
    
    @media (max-width: 768px) {
      .story-chart {
        height: clamp(750px, 130vw, 1000px);
        margin-left: -10px;
        margin-right: -10px;
        width: calc(100% + 20px);
      }

      .hero {
        min-height: clamp(350px, 60vh, 500px);
      }
    }

    @media (max-width: 480px) {
      .story-card {
        padding: var(--space-md) clamp(16px, 4vw, 20px);
        margin-left: -8px;
        margin-right: -8px;
        border-radius: 12px;
      }
      
      .story-chart {
        height: 700px;
        margin-left: -16px;
        margin-right: -16px;
        width: calc(100% + 32px);
      }

      main {
        padding-left: clamp(16px, 4vw, 20px);
        padding-right: clamp(16px, 4vw, 20px);
      }
    }

    @media (min-width: 769px) {
      .story-chart {
        height: 1100px;
      }
    }

    @media (min-width: 1200px) {
      .story-chart {
        height: 1200px;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      html {
        scroll-behavior: auto;
      }
      
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>
<body>
  <!-- BACKGROUND LAYERS -->
  <div class="bg-stars" aria-hidden="true">
    <picture>
      <source srcset="exports/hero/hero-stars-1920.avif" type="image/avif" />
      <source srcset="exports/hero/hero-stars-1920.webp" type="image/webp" />
      <img src="exports/hero/hero-stars-1920.jpg" alt="" />
    </picture>
  </div>
  
  <div class="bg-grit" aria-hidden="true" style="background-image:url('exports/grit/grit-red-2048.jpg');"></div>
  <div class="bg-paper" aria-hidden="true" style="background-image:url('exports/news/newspaper-53.jpg');"></div>
  <div class="bg-vignette" aria-hidden="true"></div>

  <!-- HEADER -->
  <header>
    <div class="brand">i wuz just bored</div>
  </header>

  <!-- MAIN STAGE -->
  <main>
    <div class="container">
      <!-- Hero -->
      <section class="hero">
        <h1 class="hero-title">Live from NYC.</h1>
        <p class="hero-subtitle">
          Data stories from the edge of attention. When boredom meets obsession, 
          the questions get interesting. No manifesto. No roadmap. Just signal.
        </p>
      </section>

      <!-- DATA STORY 1: The Intimacy Recession -->
      <article class="story-card">
        <div class="story-header">
          <div class="story-kicker">Data Dabs</div>
          <h2 class="story-title">The Intimacy Recession</h2>
          <div class="story-subtitle">
            How declining sexual frequency, rising pharmaceutical use, and increasing screen time 
            tell the story of American isolation
          </div>
          <div class="story-byline">
            Analysis based on GSS, Census Bureau, and Express Scripts data
          </div>
        </div>

        <div class="story-lede">
          Between 2000 and 2022, average sexual frequency among American adults ages 18–64 
          declined from approximately 62 times per year to 41 times per year — a 34% decrease. 
          During the same period, SSRI prescriptions more than doubled, from 164 million to 408 million annually.
        </div>

        <div id="intimacy-chart" class="story-chart"></div>

        <div class="story-notes">
          <strong>About the data:</strong> Sexual frequency data comes from the General Social Survey (GSS),
          conducted by NORC at the University of Chicago. SSRI prescription data: Express Scripts Drug Trend Reports.
          Marriage data via U.S. Census API. Screen time estimates from
          Nielsen Total Audience Reports and Pew Research Center surveys.
        </div>

        <div class="story-source">
          <strong>Methodology:</strong> Python · Pandas · Plotly
        </div>
      </article>

      <!-- DATA STORY 2: The Porn Era Divergence -->
      <article class="story-card">
        <div class="story-header">
          <div class="story-kicker">Data Dabs</div>
          <h2 class="story-title">The Porn Era Divergence</h2>
          <div class="story-subtitle">
            How American society changed as porn consumption increased 10,000% (1970-2025)
          </div>
          <div class="story-byline">
            Normalized proxy data · 5-year intervals · All metrics scaled 0-100
          </div>
        </div>

        <div class="story-lede">
          Between 1970-2000, porn consumption grew slowly (magazines, VHS) while marriage rates declined gradually. 
          Then came broadband internet (2000s) and smartphones (2010s). The crossing point: 2007. Porn consumption 
          hockey-sticked upward while marriage rates, happiness, and teen pregnancy all accelerated their declines.
        </div>

        <div id="porn-chart" class="interactive-chart" style="min-height: 600px; background: #f9fafb; border-radius: 8px; padding: 20px;"></div>

        <div class="story-notes">
          <strong>Data Sources:</strong> Marriage rates (CDC, Census), Teen pregnancy (CDC), STD rates (CDC Surveillance), 
          Median salary (BLS, CPI-adjusted), Happiness (GSS, Gallup), Living at home (Census CPS), Inflation (BLS CPI). 
          <strong>Porn consumption proxy:</strong> 1970-1995 (magazine circulation + VHS rental), 1996-2005 (internet penetration × traffic), 
          2006-2025 (industry insights, academic studies).
        </div>

        <div class="story-source">
          <strong>Note:</strong> All correlations shown are descriptive, not causal. Multiple societal factors changed simultaneously during this period.
        </div>
      </article>

    </div>
  </main>

  <!-- GSAP ANIMATION -->
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script>
    // Star shimmer
    const starImg = document.querySelector('.bg-stars img');
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    
    if (starImg && !prefersReducedMotion) {
      gsap.to(starImg, {
        opacity: 0.88,
        duration: 5,
        repeat: -1,
        yoyo: true,
        ease: 'sine.inOut'
      });

      // Mouse parallax (disable on mobile)
      if (window.innerWidth > 768) {
        let targetX = 0, targetY = 0, curX = 0, curY = 0;

        window.addEventListener('mousemove', (e) => {
          const nx = (e.clientX / window.innerWidth - 0.5);
          const ny = (e.clientY / window.innerHeight - 0.5);
          targetX = nx * 15;
          targetY = ny * 15;
        });

        gsap.ticker.add(() => {
          curX += (targetX - curX) * 0.05;
          curY += (targetY - curY) * 0.05;
          gsap.set(starImg, { x: curX, y: curY });
        });
      }
    }

    // ═══════════════════════════════════════════════════════
    // CHART 1: Intimacy Recession (Plotly)
    // ═══════════════════════════════════════════════════════
    var intimacyData = {"data":[{"hovertemplate":"%{y:.0f} times/year<extra></extra>","line":{"color":"#FF3333","width":4},"marker":{"color":"#FF3333","size":8},"mode":"lines+markers","name":"Sexual frequency","x":[2000,2002,2004,2006,2008,2010,2012,2014,2016,2018,2021,2022,2024],"y":[66.98,67.70,64.02,61.05,63.82,59.00,78.18,58.33,55.38,58.60,50.13,54.34,49.53],"type":"scatter","xaxis":"x","yaxis":"y"},{"hovertemplate":"%{y:.0f}M<extra></extra>","line":{"color":"#0066CC","dash":"dot","width":4},"marker":{"color":"#0066CC","size":8,"symbol":"diamond"},"mode":"lines+markers","name":"SSRI prescriptions","x":[2000,2002,2004,2006,2008,2010,2012,2014,2016,2018,2020,2022],"y":[164,180,196,215,232,264,286,308,330,352,380,408],"type":"scatter","xaxis":"x","yaxis":"y2"},{"fill":"tozeroy","fillcolor":"rgba(0, 102, 204, 0.1)","hovertemplate":"%{y:.1f}%<extra></extra>","line":{"color":"#0066CC","width":4},"marker":{"color":"#0066CC","size":8},"mode":"lines+markers","name":"Marriage rate","showlegend":false,"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2021,2022],"y":[48.76,48.28,48.02,47.86,47.72,47.54,47.50,47.80,47.75,47.62,48.04,48.02],"type":"scatter","xaxis":"x2","yaxis":"y3"},{"fill":"tozeroy","fillcolor":"rgba(0, 0, 0, 0.05)","hovertemplate":"%{y:.1f} hours<extra></extra>","line":{"color":"#000000","width":4},"marker":{"color":"#000000","size":8},"mode":"lines+markers","name":"Screen time","showlegend":false,"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[2.7,3.2,3.8,4.5,5.2,5.9,6.8,7.4,8.1,8.5,10.2,10.5,10.8],"type":"scatter","xaxis":"x3","yaxis":"y4"}],"layout":{"xaxis":{"anchor":"y","domain":[0.0,0.94],"showgrid":true,"gridcolor":"rgba(0,0,0,.06)","gridwidth":0.5,"showline":true,"linewidth":1,"linecolor":"rgba(0,0,0,.25)","ticks":"outside","ticklen":5,"tickcolor":"#000","type":"linear","dtick":2,"range":[1999,2025],"zeroline":false,"tickfont":{"color":"#0a0a0a","size":10}},"yaxis":{"anchor":"x","domain":[0.77,1.0],"showgrid":true,"gridcolor":"rgba(0,0,0,.06)","gridwidth":0.5,"showline":false,"zeroline":false,"title":{"font":{"size":11,"color":"#FF3333"},"text":"<b>Times/year</b>"},"tickfont":{"color":"#FF3333","size":10},"range":[40,85]},"yaxis2":{"anchor":"x","overlaying":"y","side":"right","showgrid":false,"showline":false,"zeroline":false,"title":{"font":{"size":11,"color":"#0066CC"},"text":"<b>Millions</b>"},"tickfont":{"color":"#0066CC","size":10},"range":[150,420]},"xaxis2":{"anchor":"y3","domain":[0.0,0.94],"showgrid":true,"gridcolor":"rgba(0,0,0,.06)","gridwidth":0.5,"showline":true,"linewidth":1,"linecolor":"rgba(0,0,0,.25)","ticks":"outside","ticklen":5,"tickcolor":"#000","type":"linear","dtick":2,"range":[1999,2025],"zeroline":false,"tickfont":{"color":"#0a0a0a","size":10}},"yaxis3":{"anchor":"x2","domain":[0.38,0.62],"showgrid":true,"gridcolor":"rgba(0,0,0,.06)","gridwidth":0.5,"showline":false,"zeroline":false,"title":{"font":{"size":11,"color":"#0a0a0a"},"text":"<b>% married</b>"},"range":[47,49],"tickfont":{"color":"#0a0a0a","size":10}},"xaxis3":{"anchor":"y4","domain":[0.0,0.94],"showgrid":true,"gridcolor":"rgba(0,0,0,.06)","gridwidth":0.5,"showline":true,"linewidth":1,"linecolor":"rgba(0,0,0,.25)","ticks":"outside","ticklen":5,"tickcolor":"#000","type":"linear","dtick":2,"range":[1999,2025],"zeroline":false,"tickfont":{"color":"#0a0a0a","size":10}},"yaxis4":{"anchor":"x3","domain":[0.0,0.23],"showgrid":true,"gridcolor":"rgba(0,0,0,.06)","gridwidth":0.5,"showline":false,"zeroline":false,"title":{"font":{"size":11,"color":"#0a0a0a"},"text":"<b>Hours/day</b>"},"range":[0,12],"tickfont":{"color":"#0a0a0a","size":10}},"annotations":[{"font":{"color":"#0a0a0a","size":window.innerWidth < 768 ? 11 : 14},"showarrow":false,"text":"<b>Sexual frequency declined as SSRIs doubled</b>","x":0,"xanchor":"left","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"color":"#0a0a0a","size":window.innerWidth < 768 ? 11 : 14},"showarrow":false,"text":"<b>Marriage rates remained stable</b>","x":0,"xanchor":"left","xref":"paper","y":0.62,"yanchor":"bottom","yref":"paper"},{"font":{"color":"#0a0a0a","size":window.innerWidth < 768 ? 11 : 14},"showarrow":false,"text":"<b>Screen time quadrupled since 2010</b>","x":0,"xanchor":"left","xref":"paper","y":0.23,"yanchor":"bottom","yref":"paper"}],"font":{"family":"Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif","size":10,"color":"#0a0a0a"},"legend":{"orientation":"h","yanchor":"top","y":0.99,"xanchor":"left","x":0.01,"bgcolor":"rgba(255,255,255,0.9)","bordercolor":"rgba(0,0,0,0.2)","borderwidth":1,"font":{"color":"#0a0a0a","size":window.innerWidth < 768 ? 9 : 11}},"margin":{"l":window.innerWidth < 768 ? 50 : 70,"r":window.innerWidth < 768 ? 50 : 70,"t":40,"b":40},"height":window.innerWidth < 480 ? 700 : (window.innerWidth < 768 ? 900 : 1200),"plot_bgcolor":"#ffffff","paper_bgcolor":"#ffffff","showlegend":true,"hoverlabel":{"font":{"size":11,"family":"Inter, system-ui","color":"#000000"},"bgcolor":"#ffffff","bordercolor":"rgba(0,0,0,.10)"},"hovermode":"x unified"}};
    
    var intimacyConfig = {
      responsive: true,
      displayModeBar: false
    };
    
    Plotly.newPlot('intimacy-chart', intimacyData.data, intimacyData.layout, intimacyConfig);

    window.addEventListener('resize', function() {
      Plotly.relayout('intimacy-chart', {
        height: window.innerWidth < 480 ? 700 : (window.innerWidth < 768 ? 900 : 1200),
        'margin.l': window.innerWidth < 768 ? 50 : 70,
        'margin.r': window.innerWidth < 768 ? 50 : 70
      });
    });

    // ═══════════════════════════════════════════════════════
    // CHART 2: Porn Era Divergence (Simple Canvas-based chart)
    // ═══════════════════════════════════════════════════════
    
    // Generate data
    function generatePornData() {
      const years = [1970, 1975, 1980, 1985, 1990, 1995, 2000, 2005, 2010, 2015, 2020, 2025];
      return years.map(year => {
        const ys = year - 1970;
        return {
          year,
          porn: Math.min(100, ys < 25 ? 5 + (ys * 0.8) : ys < 35 ? 25 + ((ys - 25) * 3) : 55 + ((ys - 35) * 2.2)),
          marriage: Math.max(0, 95 - (ys * 1.2)),
          happiness: ys < 40 ? 75 - (ys * 0.6) : 50 - ((ys - 40) * 1.5)
        };
      });
    }

    const pornData = generatePornData();
    
    // Simple canvas chart
    const canvas = document.createElement('canvas');
    canvas.width = window.innerWidth < 768 ? 600 : 1000;
    canvas.height = 500;
    canvas.style.width = '100%';
    canvas.style.height = 'auto';
    
    const ctx = canvas.getContext('2d');
    const padding = 60;
    const chartWidth = canvas.width - padding * 2;
    const chartHeight = canvas.height - padding * 2;
    
    // Background
    ctx.fillStyle = '#f9fafb';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    // Grid
    ctx.strokeStyle = '#e5e7eb';
    ctx.lineWidth = 1;
    for (let i = 0; i <= 10; i++) {
      const y = padding + (chartHeight / 10) * i;
      ctx.beginPath();
      ctx.moveTo(padding, y);
      ctx.lineTo(canvas.width - padding, y);
      ctx.stroke();
    }
    
    // Draw lines
    function drawLine(data, key, color, label) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 3;
      ctx.beginPath();
      
      data.forEach((d, i) => {
        const x = padding + (chartWidth / (data.length - 1)) * i;
        const y = padding + chartHeight - (d[key] / 100 * chartHeight);
        
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      });
      
      ctx.stroke();
      
      // Dots
      ctx.fillStyle = color;
      data.forEach((d, i) => {
        const x = padding + (chartWidth / (data.length - 1)) * i;
        const y = padding + chartHeight - (d[key] / 100 * chartHeight);
        ctx.beginPath();
        ctx.arc(x, y, 5, 0, Math.PI * 2);
        ctx.fill();
      });
    }
    
    drawLine(pornData, 'porn', '#a855f7', 'Porn Consumption');
    drawLine(pornData, 'marriage', '#3b82f6', 'Marriage Rate');
    drawLine(pornData, 'happiness', '#f59e0b', 'Happiness Index');
    
    // Axes
    ctx.strokeStyle = '#0a0a0a';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(padding, padding);
    ctx.lineTo(padding, canvas.height - padding);
    ctx.lineTo(canvas.width - padding, canvas.height - padding);
    ctx.stroke();
    
    // Labels
    ctx.fillStyle = '#0a0a0a';
    ctx.font = '12px Inter, sans-serif';
    ctx.textAlign = 'center';
    
    pornData.forEach((d, i) => {
      const x = padding + (chartWidth / (pornData.length - 1)) * i;
      ctx.fillText(d.year, x, canvas.height - padding + 20);
    });
    
    // Legend
    const legendX = padding + 20;
    const legendY = padding + 20;
    
    [[' Porn Consumption', '#a855f7'], [' Marriage Rate', '#3b82f6'], [' Happiness', '#f59e0b']].forEach((item, i) => {
      ctx.fillStyle = item[1];
      ctx.fillRect(legendX, legendY + i * 25, 15, 3);
      ctx.fillStyle = '#0a0a0a';
      ctx.font = '11px Inter, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(item[0], legendX + 20, legendY + i * 25 + 5);
    });
    
    document.getElementById('porn-chart').appendChild(canvas);
  </script>
</body>
</html>